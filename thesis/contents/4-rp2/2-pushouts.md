## Pushouts {#sec:rp2_pushouts}

As we have seen, higher inductive types allow mimicking CW complexes by using $n$-dimensional paths as $n$-cells. Unfortunately, this is not always possible. For starters, an $n$-path can only connect *two* $(n-1)$-paths, whereas cells can join an arbitrary number of lower dimensional cells.

So the question is raised: how does one build more complex spaces in homotopy type theory?
In classical topology, there are tools like *gluing* (quotient spaces) that allow us to join or collapse spaces in different ways.
In homotopy type theory we need more refined techniques, because we want these to preserve the homotopic invariants we are working with.
In \autoref{trunc-conn-n-truncation} we have seen a way to do this, parametrizing $1$-types by lower dimensional cells.
As an alternative, more robust method, in this chapter we present the **pushout**.

In category theory, a pushout is a kind of colimit. This roughly means that it is a unique (up to factorization) object out of a diagram. The diagram for a pushout is usually represented as such:

\begin{center}
\begin{tikzpicture}
\node (X) at (0,0) {\(X\)};
\node (Y) at (2,0) {\(Y\)};
\node (Z) at (0,-2) {\(Z\)};
\draw[->] (X) -- (Y) node[midway,above] {$f$};
\draw[->] (X) -- (Z) node[midway,left] {$g$};
\end{tikzpicture}
\end{center}

In certain categories, there is a pushout of such diagram, formed by an object $P$ together with morphisms $i : Y \rightarrow P$ and $j : Z \rightarrow P$ such that the following diagram commutes:

\begin{center}
\begin{tikzpicture}
\node (X) at (0,0) {\(X\)};
\node (Y) at (2,0) {\(Y\)};
\node (Z) at (0,-2) {\(Z\)};
\node (P) at (2,-2) {\(P\)};
\draw[->] (X) -- (Y) node[midway,above] {$f$};
\draw[->] (X) -- (Z) node[midway,left] {$g$};
\draw[->] (Y) -- (P) node[midway,right] {$i$};
\draw[->] (Z) -- (P) node[midway,below] {$j$};
\end{tikzpicture}
\end{center}

In particular, the category \Top of topological spaces is cocomplete, which means that it contains all (small) colimits. The pushout of two spaces $Y$ and $Z$ in \Top is the space $(Y \sqcup Z)/\sim$, where $\sim$ is the equivalence relationship generated by $\iota_Y(f(x)) \sim \iota_Z(g(x))$ for all $x$ in $X$, and $\iota_Y$, $\iota_Z$ are the inclusion functions. This can be visualized as "gluing" $Y$ and $Z$ along the points that share a preimage in $X$.

Things get ugly once we step into homotopy theory territory. Homotopy equivalences can be studied from a categorical point of view by taking the homotopy classes of maps as morphisms. The resulting category, known as \HoTop, does *not* have all colimits. In particular, we cannot always build pushouts. A classic example: suppose the diagram $\dtwo \hookleftarrow \sone \hookrightarrow \dtwo$ given by the standard inclusion of the circle into two copies of the closed 2-dimensional disk. The pushout of this diagram is the sphere \stwo, because it is the result of gluing the two disks along their boundaries:

\begin{center}
\begin{tikzpicture}
\node (X) at (0,0) {\(\sone\)};
\node (Y) at (2,0) {\(\dtwo\)};
\node (Z) at (0,-2) {\(\dtwo\)};
\node (P) at (2,-2) {\(\stwo\)};
\draw[right hook->] (X) -- (Y);
\draw[right hook->] (X) -- (Z);
\draw[right hook->] (Y) -- (P);
\draw[right hook->] (Z) -- (P);
\end{tikzpicture}
\end{center}

One would expect that, in \HoTop, replacing all the spaces by homotopy equivalent ones would result in a homotopy equivalent pushout. This is not the case. For example, as the disk is contractible, it can be replaced with \ast{} (the single-point space), and then the resulting pushout is \ast{} as well:

\begin{center}
\begin{tikzpicture}
\node (X) at (0,0) {\(\sone\)};
\node (Y) at (2,0) {\(\ast\)};
\node (Z) at (0,-2) {\(\ast\)};
\node (P) at (2,-2) {\(\ast\)};
\draw[->] (X) -- (Y);
\draw[->] (X) -- (Z);
\draw[->] (Y) -- (P);
\draw[->] (Z) -- (P);
\end{tikzpicture}
\end{center}

But \ast{} is not homotopy equivalent to \stwo.

As a fix, mathematicians came up with the **homotopy pushout**. The homotopy pushout is a construction, similar to that of the categorical pushout, in the sense that it also tries to complete a diagram of the form $Y \leftarrow X \rightarrow Z$.

The homotopy pushout, though, *does* respect homotopy types: if we replace any (or all) of $X$, $Y$, or $Z$ with homotopy equivalent objects, then the homotopy pushout will also be homotopy equivalent to the original one. The first thing to note is that the homotopy pushout is *not* a pushout in the homotopy category \HoTop. Nonetheless, it tries to retain as much resemblance as possible to a categorical pushout.

With all this information, it is now appropriate to introduce the pushout in homotopy type theory.

\begin{definition}
A \textbf{pushout} of functions $f : X \rightarrow Y$ and $g: X \rightarrow Z$ is a higher inductive type $Y +_X Z$ presented by:
\begin{itemize}
  \item a function $\inr : Y +_X Z \rightarrow Y$,
  \item a function $\inl : Y +_X Z \rightarrow Z$, and
  \item a dependent function $\glue : \prod_{x : X} \inr(f(x)) = \inl(g(x))$.
\end{itemize}
\end{definition}

The homotopy type theory pushout retains the idea of "gluing": for each $x$ in $X$, the function \glue gives us a path from $f(x)$ to $g(x)$ (in the pushout type, via the inclusions \inr and \inl). As this definition is type-theoretic, it accepts replacing types with equivalent ones (through the univalence axiom) and preserve the pushout type.

Pushouts allow us to make topological constructions in homotopy type theory. As an example, given a type $A$, one can build its suspension as the pushout of the unique span $\one \leftarrow A \rightarrow \one$. Notice what we obtain:

- a function $\inr : \one +_A \one \rightarrow \one$,
- a function $\inl : \one +_A \one \rightarrow \one$, and
- a dependent function $\glue : \prod_{a : A} \inr(\star) = \inl(\star)$.

\inr and \inl are just inclusions, they do not contribute anything meaningful. But \glue is interesting: instead of literally gluing \one to \one via $A$, we just use $A$ to parametrize the paths, but ignore its points ($a : A$) altogether. The natural functoriality of functions in homotopy type theory will guarantee that the "copy" of $A$ of the suspesion will retain the higher homotopical structure of $A$.
